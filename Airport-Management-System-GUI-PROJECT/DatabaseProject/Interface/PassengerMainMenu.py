#! /usr/bin/env python
#  -*- coding: utf-8 -*-
#
# GUI module generated by PAGE version 7.3
#  in conjunction with Tcl version 8.6
#    May 03, 2022 09:14:08 PM +03  platform: Windows NT
import sys,sqlite3
import time as t
import tkinter as tk
import tkinter.ttk as ttk
from tkinter.constants import *

db = sqlite3.connect("C:\\Users\\user\\PycharmProjects\\DatabaseProject\\DBFinal.db") #Connecting The DB to the python
cr = db.cursor()  #editor line

root = tk.Tk()
top = root
current_window = None

top.geometry("700x600+757+104")
top.minsize(120, 1)
top.maxsize(1924, 1061)
top.resizable(1, 1)
top.title("KU Airport Mangment System")
top.configure(background="#d9d9d9")

FlightData = (None,None,None,None,None)
Type = None
BookedDate = None
CancelDate = None
#_______________________________________
def main():
    # destroy current window and return empty window
    def replace_window():
        global current_window
        if current_window is not None:
            current_window.destroy()
        current_window = tk.Toplevel(top)
        return current_window
    # _____________________________________
    def ShowAllFlights():
        window = replace_window()
        window.geometry("700x600+757+104")
        top = window
        cr.execute("SELECT Source,Destination,FlightCode,ArrivelTime,DepartureT FROM Flight")
        Flys = cr.fetchall()
        FlysCount = 5
        SelectFlys = []
        for FlyIndex in range(1,FlysCount+1):
            try:
                SelectFlys.append(Flys[-FlyIndex])
            except:
                SelectFlys.append((None,None,None,None,None))
                
        # source values
        Sou1 = SelectFlys[0][0]
        Sou2 = SelectFlys[1][0]
        Sou3 = SelectFlys[2][0]
        Sou4 = SelectFlys[3][0]
        Sou5 = SelectFlys[4][0]
        # destination values
        Dest1 = SelectFlys[0][1]
        Dest2 = SelectFlys[1][1]
        Dest3 = SelectFlys[2][1]
        Dest4 = SelectFlys[3][1]
        Dest5 = SelectFlys[4][1]
        # flight Code values
        FlyC1 = SelectFlys[0][2]
        FlyC2 = SelectFlys[1][2]
        FlyC3 = SelectFlys[2][2]
        FlyC4 = SelectFlys[3][2]
        FlyC5 = SelectFlys[4][2]
        # Arrive time values
        ArrT1 = SelectFlys[0][3]
        ArrT2 = SelectFlys[1][3]
        ArrT3 = SelectFlys[2][3]
        ArrT4 = SelectFlys[3][3]
        ArrT5 = SelectFlys[4][3]
        # Departure time values
        DepT1 = SelectFlys[0][4]
        DepT2 = SelectFlys[1][4]
        DepT3 = SelectFlys[2][4]
        DepT4 = SelectFlys[3][4]
        DepT5 = SelectFlys[4][4]
        
        Label2 = tk.Label(top)
        Label2.place(relx=0.0, rely=0.0, height=91, width=704)
        Label2.configure(background="#70bbd1")
        Label2.configure(compound='left')
        Label2.configure(disabledforeground="#a3a3a3")
        Label2.configure(font="-family {Segoe UI} -size 24 -weight bold -slant italic")
        Label2.configure(foreground="#000000")
        Label2.configure(relief="solid")
        Label2.configure(text='''KU Airport Mangment System''')
        Label3 = tk.Label(top)
        Label3.place(relx=0.4, rely=0.183, height=51, width=154)
        Label3.configure(background="#a2a39e")
        Label3.configure(compound='left')
        Label3.configure(disabledforeground="#a3a3a3")
        Label3.configure(font="-family {Segoe UI} -size 10 -weight bold -slant italic")
        Label3.configure(foreground="#000000")
        Label3.configure(relief="solid")
        Label3.configure(text='''Flight Table''')
        Label4 = tk.Label(top)
        Label4.place(relx=0.014, rely=0.167, height=54, width=54)
        Label4.configure(anchor='w')
        Label4.configure(background="#d9d9d9")
        Label4.configure(compound='left')
        Label4.configure(disabledforeground="#a3a3a3")
        Label4.configure(foreground="#000000")
        photo_location = "./ezgif-5-a0030f17cd.gif"
        
        global _img0
        _img0 = tk.PhotoImage(file=photo_location)
        Label4.configure(image=_img0)
        Label12 = tk.Label(top)
        Label12.place(relx=0.014, rely=0.367, height=21, width=125)
        Label12.configure(background="#a3a3a3")
        Label12.configure(compound='left')
        Label12.configure(disabledforeground="#a3a3a3")
        Label12.configure(foreground="#000000")
        Label12.configure(relief="solid")
        Label12.configure(text='''Source''')
        Label13 = tk.Label(top)
        Label13.place(relx=0.414, rely=0.367, height=21, width=125)
        Label13.configure(background="#a3a3a3")
        Label13.configure(compound='left')
        Label13.configure(disabledforeground="#a3a3a3")
        Label13.configure(foreground="#000000")
        Label13.configure(relief="solid")
        Label13.configure(text='''Flight Code''')
        Label14 = tk.Label(top)
        Label14.place(relx=0.214, rely=0.367, height=21, width=125)
        Label14.configure(background="#a3a3a3")
        Label14.configure(compound='left')
        Label14.configure(disabledforeground="#a3a3a3")
        Label14.configure(foreground="#000000")
        Label14.configure(relief="solid")
        Label14.configure(text='''Destination''')
        Label15 = tk.Label(top)
        Label15.place(relx=0.414, rely=0.283, height=21, width=124)
        Label15.configure(background="#a2a39e")
        Label15.configure(compound='left')
        Label15.configure(disabledforeground="#a3a3a3")
        Label15.configure(foreground="#000000")
        Label15.configure(relief="solid")
        Label15.configure(text='''Latest 5 Flights''')
        Label16 = tk.Label(top)
        Label16.place(relx=0.614, rely=0.367, height=21, width=125)
        Label16.configure(background="#a3a3a3")
        Label16.configure(compound='left')
        Label16.configure(disabledforeground="#a3a3a3")
        Label16.configure(foreground="#000000")
        Label16.configure(relief="solid")
        Label16.configure(text='''Arrival Time''')
        Label17 = tk.Label(top)
        Label17.place(relx=0.8, rely=0.367, height=21, width=125)
        Label17.configure(background="#a3a3a3")
        Label17.configure(compound='left')
        Label17.configure(disabledforeground="#a3a3a3")
        Label17.configure(foreground="#000000")
        Label17.configure(relief="solid")
        Label17.configure(text='''Departure Time''')
        Label1 = tk.Label(top)
        Label1.place(relx=0.014, rely=0.417, height=21, width=125)
        Label1.configure(background="#ffffff")
        Label1.configure(compound='left')
        Label1.configure(disabledforeground="#a3a3a3")
        Label1.configure(foreground="#000000")
        Label1.configure(relief="solid")
        Label1.configure(text=Sou1)
        Label5 = tk.Label(top)
        Label5.place(relx=0.214, rely=0.417, height=21, width=125)
        Label5.configure(background="#ffffff")
        Label5.configure(compound='left')
        Label5.configure(disabledforeground="#a3a3a3")
        Label5.configure(foreground="#000000")
        Label5.configure(relief="solid")
        Label5.configure(text=Dest1)
        Label6 = tk.Label(top)
        Label6.place(relx=0.414, rely=0.417, height=21, width=125)
        Label6.configure(background="#ffffff")
        Label6.configure(compound='left')
        Label6.configure(disabledforeground="#a3a3a3")
        Label6.configure(foreground="#000000")
        Label6.configure(relief="solid")
        Label6.configure(text=FlyC1)
        Label7 = tk.Label(top)
        Label7.place(relx=0.614, rely=0.417, height=21, width=125)
        Label7.configure(background="#ffffff")
        Label7.configure(compound='left')
        Label7.configure(disabledforeground="#a3a3a3")
        Label7.configure(foreground="#000000")
        Label7.configure(relief="solid")
        Label7.configure(text=ArrT1)
        Label8 = tk.Label(top)
        Label8.place(relx=0.8, rely=0.417, height=21, width=125)
        Label8.configure(background="#ffffff")
        Label8.configure(compound='left')
        Label8.configure(disabledforeground="#a3a3a3")
        Label8.configure(foreground="#000000")
        Label8.configure(relief="solid")
        Label8.configure(text=DepT1)
        Label9 = tk.Label(top)
        Label9.place(relx=0.014, rely=0.467, height=21, width=126)
        Label9.configure(background="#ffffff")
        Label9.configure(compound='left')
        Label9.configure(disabledforeground="#a3a3a3")
        Label9.configure(foreground="#000000")
        Label9.configure(relief="solid")
        Label9.configure(text=Sou2)
        Label10 = tk.Label(top)
        Label10.place(relx=0.214, rely=0.467, height=21, width=126)
        Label10.configure(background="#ffffff")
        Label10.configure(compound='left')
        Label10.configure(disabledforeground="#a3a3a3")
        Label10.configure(foreground="#000000")
        Label10.configure(relief="solid")
        Label10.configure(text=Dest2)
        Label10_1 = tk.Label(top)
        Label10_1.place(relx=0.414, rely=0.467, height=21, width=126)
        Label10_1.configure(activebackground="#f9f9f9")
        Label10_1.configure(activeforeground="black")
        Label10_1.configure(background="#ffffff")
        Label10_1.configure(compound='left')
        Label10_1.configure(disabledforeground="#a3a3a3")
        Label10_1.configure(foreground="#000000")
        Label10_1.configure(highlightbackground="#d9d9d9")
        Label10_1.configure(highlightcolor="black")
        Label10_1.configure(relief="solid")
        Label10_1.configure(text=FlyC2)
        Label10_1_1 = tk.Label(top)
        Label10_1_1.place(relx=0.614, rely=0.467, height=21, width=126)
        Label10_1_1.configure(activebackground="#f9f9f9")
        Label10_1_1.configure(activeforeground="black")
        Label10_1_1.configure(background="#ffffff")
        Label10_1_1.configure(compound='left')
        Label10_1_1.configure(disabledforeground="#a3a3a3")
        Label10_1_1.configure(foreground="#000000")
        Label10_1_1.configure(highlightbackground="#d9d9d9")
        Label10_1_1.configure(highlightcolor="black")
        Label10_1_1.configure(relief="solid")
        Label10_1_1.configure(text=ArrT2)
        Label10_1_2 = tk.Label(top)
        Label10_1_2.place(relx=0.8, rely=0.467, height=21, width=126)
        Label10_1_2.configure(activebackground="#f9f9f9")
        Label10_1_2.configure(activeforeground="black")
        Label10_1_2.configure(background="#ffffff")
        Label10_1_2.configure(compound='left')
        Label10_1_2.configure(disabledforeground="#a3a3a3")
        Label10_1_2.configure(foreground="#000000")
        Label10_1_2.configure(highlightbackground="#d9d9d9")
        Label10_1_2.configure(highlightcolor="black")
        Label10_1_2.configure(relief="solid")
        Label10_1_2.configure(text=DepT2)
        Label9_1 = tk.Label(top)
        Label9_1.place(relx=0.014, rely=0.517, height=21, width=126)
        Label9_1.configure(activebackground="#f9f9f9")
        Label9_1.configure(activeforeground="black")
        Label9_1.configure(background="#ffffff")
        Label9_1.configure(compound='left')
        Label9_1.configure(disabledforeground="#a3a3a3")
        Label9_1.configure(foreground="#000000")
        Label9_1.configure(highlightbackground="#d9d9d9")
        Label9_1.configure(highlightcolor="black")
        Label9_1.configure(relief="solid")
        Label9_1.configure(text=Sou3)
        Label9_1_1 = tk.Label(top)
        Label9_1_1.place(relx=0.014, rely=0.567, height=21, width=126)
        Label9_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1.configure(activeforeground="black")
        Label9_1_1.configure(background="#ffffff")
        Label9_1_1.configure(compound='left')
        Label9_1_1.configure(cursor="")
        Label9_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1.configure(foreground="#000000")
        Label9_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1.configure(highlightcolor="black")
        Label9_1_1.configure(relief="solid")
        Label9_1_1.configure(text=Sou4)
        Label9_1_1_1 = tk.Label(top)
        Label9_1_1_1.place(relx=0.014, rely=0.617, height=21, width=126)
        Label9_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_1.configure(activeforeground="black")
        Label9_1_1_1.configure(background="#ffffff")
        Label9_1_1_1.configure(compound='left')
        Label9_1_1_1.configure(cursor="")
        Label9_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_1.configure(foreground="#000000")
        Label9_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_1.configure(highlightcolor="black")
        Label9_1_1_1.configure(relief="solid")
        Label9_1_1_1.configure(text=Sou5)
        Label9_1_2 = tk.Label(top)
        Label9_1_2.place(relx=0.214, rely=0.517, height=21, width=126)
        Label9_1_2.configure(activebackground="#f9f9f9")
        Label9_1_2.configure(activeforeground="black")
        Label9_1_2.configure(background="#ffffff")
        Label9_1_2.configure(compound='left')
        Label9_1_2.configure(disabledforeground="#a3a3a3")
        Label9_1_2.configure(foreground="#000000")
        Label9_1_2.configure(highlightbackground="#d9d9d9")
        Label9_1_2.configure(highlightcolor="black")
        Label9_1_2.configure(relief="solid")
        Label9_1_2.configure(text=Dest3)
        Label9_1_2_1 = tk.Label(top)
        Label9_1_2_1.place(relx=0.414, rely=0.517, height=21, width=126)
        Label9_1_2_1.configure(activebackground="#f9f9f9")
        Label9_1_2_1.configure(activeforeground="black")
        Label9_1_2_1.configure(background="#ffffff")
        Label9_1_2_1.configure(compound='left')
        Label9_1_2_1.configure(disabledforeground="#a3a3a3")
        Label9_1_2_1.configure(foreground="#000000")
        Label9_1_2_1.configure(highlightbackground="#d9d9d9")
        Label9_1_2_1.configure(highlightcolor="black")
        Label9_1_2_1.configure(relief="solid")
        Label9_1_2_1.configure(text=FlyC3)
        Label9_1_2_1_1 = tk.Label(top)
        Label9_1_2_1_1.place(relx=0.614, rely=0.517, height=21, width=126)
        Label9_1_2_1_1.configure(activebackground="#f9f9f9")
        Label9_1_2_1_1.configure(activeforeground="black")
        Label9_1_2_1_1.configure(background="#ffffff")
        Label9_1_2_1_1.configure(compound='left')
        Label9_1_2_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_2_1_1.configure(foreground="#000000")
        Label9_1_2_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_2_1_1.configure(highlightcolor="black")
        Label9_1_2_1_1.configure(relief="solid")
        Label9_1_2_1_1.configure(text=ArrT3)
        Label9_1_2_1_1_1 = tk.Label(top)
        Label9_1_2_1_1_1.place(relx=0.8, rely=0.517, height=21, width=126)
        Label9_1_2_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_2_1_1_1.configure(activeforeground="black")
        Label9_1_2_1_1_1.configure(background="#ffffff")
        Label9_1_2_1_1_1.configure(compound='left')
        Label9_1_2_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_2_1_1_1.configure(foreground="#000000")
        Label9_1_2_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_2_1_1_1.configure(highlightcolor="black")
        Label9_1_2_1_1_1.configure(relief="solid")
        Label9_1_2_1_1_1.configure(text=DepT3)
        Label9_1_1_2 = tk.Label(top)
        Label9_1_1_2.place(relx=0.214, rely=0.567, height=21, width=126)
        Label9_1_1_2.configure(activebackground="#f9f9f9")
        Label9_1_1_2.configure(activeforeground="black")
        Label9_1_1_2.configure(background="#ffffff")
        Label9_1_1_2.configure(compound='left')
        Label9_1_1_2.configure(disabledforeground="#a3a3a3")
        Label9_1_1_2.configure(foreground="#000000")
        Label9_1_1_2.configure(highlightbackground="#d9d9d9")
        Label9_1_1_2.configure(highlightcolor="black")
        Label9_1_1_2.configure(relief="solid")
        Label9_1_1_2.configure(text=Dest4)
        Label9_1_1_1_1 = tk.Label(top)
        Label9_1_1_1_1.place(relx=0.214, rely=0.617, height=21, width=126)
        Label9_1_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_1_1.configure(activeforeground="black")
        Label9_1_1_1_1.configure(background="#ffffff")
        Label9_1_1_1_1.configure(compound='left')
        Label9_1_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_1_1.configure(foreground="#000000")
        Label9_1_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_1_1.configure(highlightcolor="black")
        Label9_1_1_1_1.configure(relief="solid")
        Label9_1_1_1_1.configure(text=Dest5)
        Label9_1_1_2_1 = tk.Label(top)
        Label9_1_1_2_1.place(relx=0.414, rely=0.567, height=21, width=126)
        Label9_1_1_2_1.configure(activebackground="#f9f9f9")
        Label9_1_1_2_1.configure(activeforeground="black")
        Label9_1_1_2_1.configure(background="#ffffff")
        Label9_1_1_2_1.configure(compound='left')
        Label9_1_1_2_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_2_1.configure(foreground="#000000")
        Label9_1_1_2_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_2_1.configure(highlightcolor="black")
        Label9_1_1_2_1.configure(relief="solid")
        Label9_1_1_2_1.configure(text=FlyC4)
        Label9_1_1_1_1_1 = tk.Label(top)
        Label9_1_1_1_1_1.place(relx=0.414, rely=0.617, height=21, width=126)
        Label9_1_1_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_1_1_1.configure(activeforeground="black")
        Label9_1_1_1_1_1.configure(background="#ffffff")
        Label9_1_1_1_1_1.configure(compound='left')
        Label9_1_1_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_1_1_1.configure(foreground="#000000")
        Label9_1_1_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_1_1_1.configure(highlightcolor="black")
        Label9_1_1_1_1_1.configure(relief="solid")
        Label9_1_1_1_1_1.configure(text=FlyC5)
        Label9_1_1_2_1_1 = tk.Label(top)
        Label9_1_1_2_1_1.place(relx=0.614, rely=0.567, height=21, width=126)
        Label9_1_1_2_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_2_1_1.configure(activeforeground="black")
        Label9_1_1_2_1_1.configure(background="#ffffff")
        Label9_1_1_2_1_1.configure(compound='left')
        Label9_1_1_2_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_2_1_1.configure(foreground="#000000")
        Label9_1_1_2_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_2_1_1.configure(highlightcolor="black")
        Label9_1_1_2_1_1.configure(relief="solid")
        Label9_1_1_2_1_1.configure(text=ArrT4)
        Label9_1_1_1_1_1_1 = tk.Label(top)
        Label9_1_1_1_1_1_1.place(relx=0.614, rely=0.617, height=21
                                 , width=126)
        Label9_1_1_1_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_1_1_1_1.configure(activeforeground="black")
        Label9_1_1_1_1_1_1.configure(background="#ffffff")
        Label9_1_1_1_1_1_1.configure(compound='left')
        Label9_1_1_1_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_1_1_1_1.configure(foreground="#000000")
        Label9_1_1_1_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_1_1_1_1.configure(highlightcolor="black")
        Label9_1_1_1_1_1_1.configure(relief="solid")
        Label9_1_1_1_1_1_1.configure(text=ArrT5)
        Label9_1_1_2_1_1_1 = tk.Label(top)
        Label9_1_1_2_1_1_1.place(relx=0.8, rely=0.567, height=21, width=126)
        Label9_1_1_2_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_2_1_1_1.configure(activeforeground="black")
        Label9_1_1_2_1_1_1.configure(background="#ffffff")
        Label9_1_1_2_1_1_1.configure(compound='left')
        Label9_1_1_2_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_2_1_1_1.configure(foreground="#000000")
        Label9_1_1_2_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_2_1_1_1.configure(highlightcolor="black")
        Label9_1_1_2_1_1_1.configure(relief="solid")
        Label9_1_1_2_1_1_1.configure(text=DepT4)
        Label9_1_1_1_1_1_1_1 = tk.Label(top)
        Label9_1_1_1_1_1_1_1.place(relx=0.8, rely=0.617, height=21
                                   , width=126)
        Label9_1_1_1_1_1_1_1.configure(activebackground="#f9f9f9")
        Label9_1_1_1_1_1_1_1.configure(activeforeground="black")
        Label9_1_1_1_1_1_1_1.configure(background="#ffffff")
        Label9_1_1_1_1_1_1_1.configure(compound='left')
        Label9_1_1_1_1_1_1_1.configure(disabledforeground="#a3a3a3")
        Label9_1_1_1_1_1_1_1.configure(foreground="#000000")
        Label9_1_1_1_1_1_1_1.configure(highlightbackground="#d9d9d9")
        Label9_1_1_1_1_1_1_1.configure(highlightcolor="black")
        Label9_1_1_1_1_1_1_1.configure(relief="solid")
        Label9_1_1_1_1_1_1_1.configure(text=DepT5)
        
    # _____________________________________
    def ShowYourFlight(FirstName=None,LastName=None,Genderr=None,PhoneNum=None):
        
        global BookedDate, CancelDate,PassPo
        window = replace_window()
        window.geometry("700x600+757+104")
        top = window
        Label2 = tk.Label(top)
        Label2.place(relx=0.0, rely=0.0, height=91, width=704)
        Label2.configure(background="#70bbd1")
        Label2.configure(compound='left')
        Label2.configure(disabledforeground="#a3a3a3")
        Label2.configure(font="-family {Segoe UI} -size 24 -weight bold -slant italic")
        Label2.configure(foreground="#000000")
        Label2.configure(relief="solid")
        Label2.configure(text='''KU Airport Mangment System''')
        Label3 = tk.Label(top)
        Label3.place(relx=0.343, rely=0.183, height=51, width=154)
        Label3.configure(background="#a2a39e")
        Label3.configure(compound='left')
        Label3.configure(disabledforeground="#a3a3a3")
        Label3.configure(font="-family {Segoe UI} -size 10 -weight bold -slant italic")
        Label3.configure(foreground="#000000")
        Label3.configure(relief="solid")
        Label3.configure(text='''Passenger Flight''')
        Label4 = tk.Label(top)
        Label4.place(relx=0.014, rely=0.167, height=54, width=54)
        Label4.configure(anchor='w')
        Label4.configure(background="#d9d9d9")
        Label4.configure(compound='left')
        Label4.configure(disabledforeground="#a3a3a3")
        Label4.configure(foreground="#000000")
        photo_location = "./ezgif-5-a0030f17cd.gif"
        global _img0
        _img0 = tk.PhotoImage(file=photo_location)
        Label4.configure(image=_img0)
        Entry1 = tk.Entry(top)
        Entry1.place(relx=0.4, rely=0.3, height=34, relwidth=0.263)
        Entry1.configure(background="white")
        Entry1.configure(disabledforeground="#a3a3a3")
        Entry1.configure(font="TkFixedFont")
        Entry1.configure(foreground="#000000")
        Entry1.configure(insertbackground="black")
        Label1 = tk.Label(top)
        Label1.place(relx=0.143, rely=0.3, height=34, width=164)
        Label1.configure(background="#84babd")
        Label1.configure(compound='left')
        Label1.configure(disabledforeground="#a3a3a3")
        Label1.configure(foreground="#000000")
        Label1.configure(relief="solid")
        Label1.configure(text='''Enter Your Passport Number''')
        
        def GetPassInput ():
            
            global FlightData,PassPo,Type,BookedDate,CancelDate
            PassPo = Entry1.get()
            if PassPo:
                cr.execute(f"SELECT PassportNumber FROM Passenger")
                GList = [] #Append all the passports in a list ['1234567', '5643218', '5632984', '5698331', '7744653']
                for passp10 in cr.fetchall():
                    GList.append(passp10[0])
                if PassPo in GList:
                    cr.execute(f"SELECT Fname,Lname,Sex,PPhone FROM Passenger WHERE PassportNumber={PassPo};")
                    PaData = cr.fetchall()[0] #Passenger informations ('Ahmad', 'khaled', 'Male', 69532016) TU4987
                    cr.execute(f"SELECT FlightCode FROM Passenger WHERE PassportNumber={PassPo};")
                    travels0 = cr.fetchall()[0][0] #Flight example:TU4987

                    TRlist0 = travels0.split(",") #['KU1005', 'SP4306', 'TU5556']
                    FlightName = TRlist0[0] #KU1005
                    if FlightName == "Null":
                        FlightData = (None, None, None, None, None)
                        cr.execute(f"SELECT PID FROM Passenger WHERE PassportNumber={PassPo} ")
                        pid1 = cr.fetchall()[0][0]
                        try:
                            cr.execute(f"SELECT DOC FROM Cancels WHERE PID={pid1}")
                            CancelDate = cr.fetchall()[0][0]
                            Type = "already Canceld"
                        except:
                            Type = "Not Found"
                        ShowYourFlight(str(PaData[0]), str(PaData[1]), str(PaData[2]), str(PaData[3]))
                        
                    else:
                        cr.execute(f"SELECT Source,Destination,FlightCode,ArrivelTime,DepartureT FROM Flight WHERE FlightCode='{FlightName}'")
                        FlightData = cr.fetchall()[0]
                        Type = "Booked"
                        cr.execute(f"SELECT PID FROM Passenger WHERE PassportNumber={PassPo} ")
                        pid0 = cr.fetchall()[0][0]
                        cr.execute(f"SELECT TicketNumber FROM Ticket WHERE FlightCode='{FlightName}' and PID={pid0}")
                        tinum = cr.fetchall()[0][0]
                        cr.execute(f"SELECT DateOfBooking FROM Books WHERE TicketNumber='{tinum}'")
                        BookedDate = cr.fetchall()[0][0]
                        ShowYourFlight(str(PaData[0]), str(PaData[1]), str(PaData[2]), str(PaData[3]))
                else:
                    PassPo = None
                    FlightData = (None,None,None,None,None)
                    ShowYourFlight()
            else:
                PassPo = None
                FlightData = (None,None,None,None,None)
                ShowYourFlight()
                
        Button1 = tk.Button(top)
        Button1.place(relx=0.671, rely=0.3, height=34, width=57)
        Button1.configure(activebackground="#ececec")
        Button1.configure(activeforeground="#000000")
        Button1.configure(background="#84babd")
        Button1.configure(compound='left')
        Button1.configure(disabledforeground="#a3a3a3")
        Button1.configure(foreground="#000000")
        Button1.configure(highlightbackground="#d9d9d9")
        Button1.configure(highlightcolor="black")
        Button1.configure(pady="0")
        Button1.configure(relief="solid")
        Button1.configure(text='''Search''')
        Button1.configure(command=GetPassInput)
        Label5 = tk.Label(top)
        Label5.place(relx=0.014, rely=0.933, height=31, width=85)
        Label5.configure(anchor='w')
        Label5.configure(background="#d9d9d9")
        Label5.configure(compound='left')
        Label5.configure(disabledforeground="#a3a3a3")
        Label5.configure(foreground="#000000")
        Label5.configure(text='''Booking Date :''')
        Label6 = tk.Label(top)
        Label6.place(relx=0.6, rely=0.933, height=31, width=105)
        Label6.configure(anchor='w')
        Label6.configure(background="#d9d9d9")
        Label6.configure(compound='left')
        Label6.configure(disabledforeground="#a3a3a3")
        Label6.configure(foreground="#000000")
        Label6.configure(text='''Cancellation Date:''')
        Label7 = tk.Label(top)
        Label7.place(relx=0.014, rely=0.383, height=21, width=125)
        Label7.configure(anchor='w')
        Label7.configure(background="#d9d9d9")
        Label7.configure(compound='left')
        Label7.configure(disabledforeground="#a3a3a3")
        Label7.configure(foreground="#000000")
        Label7.configure(text='''Passenger First Name :''')
        Label8 = tk.Label(top)
        Label8.place(relx=0.014, rely=0.433, height=21, width=125)
        Label8.configure(anchor='w')
        Label8.configure(background="#d9d9d9")
        Label8.configure(compound='left')
        Label8.configure(disabledforeground="#a3a3a3")
        Label8.configure(foreground="#000000")
        Label8.configure(text='''Passenger Last Name :''')
        Label9 = tk.Label(top)
        Label9.place(relx=0.529, rely=0.383, height=21, width=56)
        Label9.configure(anchor='nw')
        Label9.configure(background="#d9d9d9")
        Label9.configure(compound='left')
        Label9.configure(disabledforeground="#a3a3a3")
        Label9.configure(foreground="#000000")
        Label9.configure(text='''Gender :''')
        Label10 = tk.Label(top)
        Label10.place(relx=0.529, rely=0.433, height=21, width=96)
        Label10.configure(anchor='w')
        Label10.configure(background="#d9d9d9")
        Label10.configure(compound='left')
        Label10.configure(cursor="fleur")
        Label10.configure(disabledforeground="#a3a3a3")
        Label10.configure(foreground="#000000")
        Label10.configure(text='''Phone Number :''')
        Label11 = tk.Label(top)
        Label11.place(relx=0.3, rely=0.867, height=21, width=85)
        Label11.configure(anchor='w')
        Label11.configure(background="#d9d9d9")
        Label11.configure(compound='left')
        Label11.configure(disabledforeground="#a3a3a3")
        Label11.configure(foreground="#000000")
        Label11.configure(text='''Ticket Status :''')
        Label12 = tk.Label(top)
        Label12.place(relx=0.029, rely=0.55, height=21, width=135)
        Label12.configure(background="#ffffff")
        Label12.configure(compound='left')
        Label12.configure(disabledforeground="#a3a3a3")
        Label12.configure(foreground="#000000")
        Label12.configure(relief="solid")
        Label12.configure(text='''Source''')
        Label13 = tk.Label(top)
        Label13.place(relx=0.029, rely=0.65, height=21, width=135)
        Label13.configure(background="#ffffff")
        Label13.configure(compound='left')
        Label13.configure(cursor="fleur")
        Label13.configure(disabledforeground="#a3a3a3")
        Label13.configure(foreground="#000000")
        Label13.configure(relief="solid")
        Label13.configure(text='''Flight Code''')
        Label14 = tk.Label(top)
        Label14.place(relx=0.029, rely=0.6, height=21, width=135)
        Label14.configure(background="#ffffff")
        Label14.configure(compound='left')
        Label14.configure(disabledforeground="#a3a3a3")
        Label14.configure(foreground="#000000")
        Label14.configure(relief="solid")
        Label14.configure(text='''Destination''')
        Label15 = tk.Label(top)
        Label15.place(relx=0.371, rely=0.5, height=21, width=84)
        Label15.configure(background="#a2a39e")
        Label15.configure(compound='left')
        Label15.configure(disabledforeground="#a3a3a3")
        Label15.configure(foreground="#000000")
        Label15.configure(relief="solid")
        Label15.configure(text='''Latest Flight''')
        Label16 = tk.Label(top)
        Label16.place(relx=0.029, rely=0.7, height=21, width=135)
        Label16.configure(background="#ffffff")
        Label16.configure(compound='left')
        Label16.configure(disabledforeground="#a3a3a3")
        Label16.configure(foreground="#000000")
        Label16.configure(relief="solid")
        Label16.configure(text='''Arrival Time''')
        Label17 = tk.Label(top)
        Label17.place(relx=0.029, rely=0.75, height=21, width=135)
        Label17.configure(background="#ffffff")
        Label17.configure(compound='left')
        Label17.configure(disabledforeground="#a3a3a3")
        Label17.configure(foreground="#000000")
        Label17.configure(relief="solid")
        Label17.configure(text='''Departure Time''')
        
        def Cancel_Ticket():
            global PassPo,Type
            if Type == "already Canceld":
                pass
            elif Type == "Not Found":
            	pass
            elif PassPo == None:
                pass
            else:
                cr.execute(f"SELECT FlightCode FROM Passenger WHERE PassportNumber={PassPo};")
                travels = cr.fetchall()[0][0]
                TRlist = travels.split(",")
                targetFlight = TRlist[0]
                if len(TRlist) == 1:
                    cr.execute(f"UPDATE Passenger SET FlightCode='Null' WHERE PassportNumber={PassPo};")
                else:
                    del (TRlist[TRlist.index(targetFlight)])
                    OldTravel = ",".join(str(px) for px in TRlist)
                    cr.execute(f"UPDATE Passenger SET FlightCode='{OldTravel}' WHERE PassportNumber={PassPo};") #Checks that the passenger don't have a ticket on this flight
                cr.execute(f"SELECT PID FROM Passenger WHERE PassportNumber={PassPo};")
                bid = cr.fetchall()[0][0]
                cr.execute(f"SELECT TicketNumber FROM Ticket WHERE FlightCode='{targetFlight}' and PID={bid};")
                Tnum = str(cr.fetchall()[0][0])
                DOC1 = str(t.strftime("%d-%B-%Y")) #date of cancel
                cr.execute(f"SELECT PID FROM Cancels")
                Gist = []
                for passp0 in cr.fetchall():
                    Gist.append(passp0[0])
                if bid in Gist:
                	cr.execute(f"UPDATE Cancels SET DOC='{DOC1}',TicketNumber='{Tnum}' WHERE PID = {bid}")
                else:
                	cr.execute(f"INSERT INTO Cancels (DOC,TicketNumber,PID) VALUES ('{DOC1}','{Tnum}',{bid})")
                	
                cr.execute(f"DELETE FROM Books WHERE TicketNumber='{Tnum}';")
                cr.execute(f"DELETE FROM Ticket WHERE TicketNumber='{Tnum}';")
                db.commit() #to save changes
                # show cancel message
                Label29 = tk.Label(top)
                Label29.place(relx=0.429, rely=0.867, height=21, width=94)
                Label29.configure(anchor='w')
                Label29.configure(background="#d9d9d9")
                Label29.configure(compound='left')
                Label29.configure(disabledforeground="#a3a3a3")
                Label29.configure(foreground="#000000")
                Label29.configure(text='''Cancel Success''')
                # show canceling date
                Label280 = tk.Label(top)
                Label280.place(relx=0.757, rely=0.933, height=31, width=150)
                Label280.configure(anchor='w')
                Label280.configure(background="#d9d9d9")
                Label280.configure(compound='left')
                Label280.configure(disabledforeground="#a3a3a3")
                Label280.configure(foreground="#000000")
                from datetime import date
                today = date.today()
                Label280.configure(text=today.strftime("%b-%d-%Y"))
                # hide the booking date
                Label270 = tk.Label(top)
                Label270.place(relx=0.151, rely=0.933, height=31, width=100)
                Label270.configure(anchor='w')
                Label270.configure(background="#d9d9d9")
                Label270.configure(compound='left')
                Label270.configure(disabledforeground="#a3a3a3")
                Label270.configure(foreground="#000000")
                Label270.configure(text=None)
        
        Button2 = tk.Button(top)
        Button2.place(relx=0.343, rely=0.8, height=24, width=147)
        Button2.configure(activebackground="#ececec")
        Button2.configure(activeforeground="#000000")
        Button2.configure(background="#d9d9d9")
        Button2.configure(compound='left')
        Button2.configure(disabledforeground="#a3a3a3")
        Button2.configure(foreground="#000000")
        Button2.configure(highlightbackground="#d9d9d9")
        Button2.configure(highlightcolor="black")
        Button2.configure(pady="0")
        Button2.configure(text='''Cancel Ticket''')
        Button2.configure(command=Cancel_Ticket)
        
        global FlightData
        Label18 = tk.Label(top)
        Label18.place(relx=0.229, rely=0.55, height=21, width=201)
        Label18.configure(background="#ffffff")
        Label18.configure(compound='left')
        Label18.configure(disabledforeground="#a3a3a3")
        Label18.configure(foreground="#000000")
        Label18.configure(relief="solid")
        Label18.configure(text=FlightData[0])
        Label19 = tk.Label(top)
        Label19.place(relx=0.229, rely=0.6, height=21, width=201)
        Label19.configure(background="#ffffff")
        Label19.configure(compound='left')
        Label19.configure(disabledforeground="#a3a3a3")
        Label19.configure(foreground="#000000")
        Label19.configure(relief="solid")
        Label19.configure(text=FlightData[1])
        Label20 = tk.Label(top)
        Label20.place(relx=0.229, rely=0.65, height=21, width=201)
        Label20.configure(background="#ffffff")
        Label20.configure(compound='left')
        Label20.configure(disabledforeground="#a3a3a3")
        Label20.configure(foreground="#000000")
        Label20.configure(relief="solid")
        Label20.configure(text=FlightData[2])
        Label21 = tk.Label(top)
        Label21.place(relx=0.229, rely=0.7, height=21, width=201)
        Label21.configure(background="#ffffff")
        Label21.configure(compound='left')
        Label21.configure(disabledforeground="#a3a3a3")
        Label21.configure(foreground="#000000")
        Label21.configure(relief="solid")
        Label21.configure(text=FlightData[3])
        Label22 = tk.Label(top)
        Label22.place(relx=0.229, rely=0.75, height=21, width=201)
        Label22.configure(background="#ffffff")
        Label22.configure(compound='left')
        Label22.configure(disabledforeground="#a3a3a3")
        Label22.configure(foreground="#000000")
        Label22.configure(relief="solid")
        Label22.configure(text=FlightData[4])
        Label23 = tk.Label(top)
        Label23.place(relx=0.2, rely=0.383, height=21, width=195)
        Label23.configure(anchor='w')
        Label23.configure(background="#d9d9d9")
        Label23.configure(compound='left')
        Label23.configure(disabledforeground="#a3a3a3")
        Label23.configure(foreground="#000000")
        Label23.configure(text=FirstName)
        Label24 = tk.Label(top)
        Label24.place(relx=0.2, rely=0.433, height=21, width=195)
        Label24.configure(anchor='w')
        Label24.configure(background="#d9d9d9")
        Label24.configure(compound='left')
        Label24.configure(cursor="fleur")
        Label24.configure(disabledforeground="#a3a3a3")
        Label24.configure(foreground="#000000")
        Label24.configure(text=LastName)
        Label25 = tk.Label(top)
        Label25.place(relx=0.614, rely=0.383, height=21, width=244)
        Label25.configure(anchor='w')
        Label25.configure(background="#d9d9d9")
        Label25.configure(compound='left')
        Label25.configure(disabledforeground="#a3a3a3")
        Label25.configure(foreground="#000000")
        Label25.configure(text=Genderr)
        Label26 = tk.Label(top)
        Label26.place(relx=0.671, rely=0.433, height=21, width=154)
        Label26.configure(anchor='w')
        Label26.configure(background="#d9d9d9")
        Label26.configure(compound='left')
        Label26.configure(disabledforeground="#a3a3a3")
        Label26.configure(foreground="#000000")
        Label26.configure(text=PhoneNum)
        Label27 = tk.Label(top)
        Label27.place(relx=0.151, rely=0.933, height=31, width=100)
        Label27.configure(anchor='w')
        Label27.configure(background="#d9d9d9")
        Label27.configure(compound='left')
        Label27.configure(disabledforeground="#a3a3a3")
        Label27.configure(foreground="#000000")
        Label27.configure(text=BookedDate)
        
        Label28 = tk.Label(top)
        Label28.place(relx=0.757, rely=0.933, height=31, width=150)
        Label28.configure(anchor='w')
        Label28.configure(background="#d9d9d9")
        Label28.configure(compound='left')
        Label28.configure(disabledforeground="#a3a3a3")
        Label28.configure(foreground="#000000")
        Label28.configure(text=CancelDate)
        global Type
        Label29 = tk.Label(top)
        Label29.place(relx=0.429, rely=0.867, height=21, width=94)
        Label29.configure(anchor='w')
        Label29.configure(background="#d9d9d9")
        Label29.configure(compound='left')
        Label29.configure(disabledforeground="#a3a3a3")
        Label29.configure(foreground="#000000")
        Label29.configure(text=Type)
    #______________________________________
    def Main_Passenger_Menu ():
        
        Label2 = tk.Label(top)
        Label2.place(relx=0.0, rely=0.0, height=91, width=704)
        Label2.configure(background="#70bbd1")
        Label2.configure(compound='left')
        Label2.configure(disabledforeground="#a3a3a3")
        Label2.configure(font="-family {Segoe UI} -size 24 -weight bold -slant italic")
        Label2.configure(foreground="#000000")
        Label2.configure(relief="solid")
        Label2.configure(text='''KU Airport Mangment System''')
        Button1 = tk.Button(top)
        Button1.place(relx=0.514, rely=0.8, height=54, width=157)
        Button1.configure(activebackground="#ececec")
        Button1.configure(activeforeground="#000000")
        Button1.configure(background="#a2a39e")
        Button1.configure(compound='left')
        Button1.configure(disabledforeground="#a3a3a3")
        Button1.configure(foreground="#000000")
        Button1.configure(highlightbackground="#d9d9d9")
        Button1.configure(highlightcolor="black")
        Button1.configure(pady="0")
        Button1.configure(relief="groove")
        Button1.configure(text='''Show All Flights''')
        Button1.configure(command=ShowAllFlights)
        Button2 = tk.Button(top)
        Button2.place(relx=0.214, rely=0.8, height=54, width=157)
        Button2.configure(activebackground="#ececec")
        Button2.configure(activeforeground="#000000")
        Button2.configure(background="#a2a39e")
        Button2.configure(compound='left')
        Button2.configure(disabledforeground="#a3a3a3")
        Button2.configure(foreground="#000000")
        Button2.configure(highlightbackground="#d9d9d9")
        Button2.configure(highlightcolor="black")
        Button2.configure(pady="0")
        Button2.configure(relief="groove")
        Button2.configure(text='''Show Your Flight''')
        Button2.configure(command=ShowYourFlight)
        
        Label3 = tk.Label(top)
        Label3.place(relx=0.371, rely=0.7, height=51, width=154)
        Label3.configure(background="#a2a39e")
        Label3.configure(compound='left')
        Label3.configure(disabledforeground="#a3a3a3")
        Label3.configure(font="-family {Segoe UI} -size 10 -weight bold -slant italic")
        Label3.configure(foreground="#000000")
        Label3.configure(relief="solid")
        Label3.configure(text='''Passenger Main Menu''')
        Label1 = tk.Label(top)
        Label1.place(relx=0.0, rely=0.15, height=250, width=700)
        Label1.configure(anchor='w')
        Label1.configure(background="#d9d9d9")
        Label1.configure(compound='left')
        Label1.configure(disabledforeground="#a3a3a3")
        Label1.configure(foreground="#000000")
        photo_location = "./ezgif-5-c62772a780.gif"
        
        global _img0
        _img0 = tk.PhotoImage(file=photo_location)
        Label1.configure(image=_img0)
        Label1.configure(relief="solid")
        Label4 = tk.Label(top)
        Label4.place(relx=0.443, rely=0.6, height=54, width=54)
        Label4.configure(anchor='w')
        Label4.configure(background="#d9d9d9")
        Label4.configure(compound='left')
        Label4.configure(disabledforeground="#a3a3a3")
        Label4.configure(foreground="#000000")
        photo_location = "./ezgif-5-a0030f17cd.gif"
        
        global _img1
        _img1 = tk.PhotoImage(file=photo_location)
        Label4.configure(image=_img1)
        
    Main_Passenger_Menu()
    
if __name__ == '__main__':
    main()
    root.mainloop()
    db.close()
